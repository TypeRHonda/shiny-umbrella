var request = require('request'),     ntwitter = require('ntwitter');
var twi = new ntwitter({    'consumer_key': '',     'consumer_secret': '',     'access_token_key': '',     'access_token_secret': ''});
var run = function(){    request.get({        'uri': 'https://pvp.minecraft.jp/servers.json',         'json': true    }, function(error, response, body){        if(!error){            body.servers.forEach(function(ele){                var nextMap = ele.Server.nextMap;                if(                    nextMap == 'Out Post' ||                     nextMap == 'Fluffy Mine' ||                     nextMap == 'The Siege' ||                     nextMap == 'The Two Towers' ||                    nextMap == 'Cold Bridge DTC'                ){                    var text = '@aWtyNw__ ';                    text += ele.Server.name + ' の 次のマップは ' +  nextMap + ' です。 #JPMCPvP';                    twi.updateStatus(text, function(err, res){                        if(!err){                            console.log('Posted:\n\"', text, '\"');                        }else{                            console.error(err)                        }                        setTimeout(run, 20 * 1000);                    });                }            });        }    });};
run();
